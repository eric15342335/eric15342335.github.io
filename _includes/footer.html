<div class="separation-bar footer-container">
  <span class="left-align">
    Website by <a href="mailto:eric310@connect.hku.hk">eric15342335</a>
  </span>
  <span class="right-align">
    Last updated: {{ site.time | date_to_rfc822 }}
  </span>
</div>

<!-- GoatCounter counter -->
<div id="goatcounter-stats" style="display: none;">
  <br>
  Number of visitors: <span id="goatcounter-stats-number"></span>
</div>
<script>
  let path = location.pathname === '/index.html' ? '/' : location.pathname;
  let request = new XMLHttpRequest();
  request.addEventListener('load', function() {
    let response = JSON.parse(this.responseText);
    document.querySelector('#goatcounter-stats-number').innerText = response.count + " (" + path + ")";
    document.querySelector('#goatcounter-stats').style.display = 'block';
  });
  request.open('GET', 'https://eric310.goatcounter.com/counter/' + encodeURIComponent(path) + '.json');
  request.send();
</script>